units real
boundary p p p

atom_style full
bond_style harmonic
angle_style harmonic
dihedral_style opls
special_bonds lj/coul 0.0 0.0 0.5

pair_style lj/cut/thole/long 2.6 10.0
kspace_style pppm 1.0e-5

read_data data.ethanol extra/special/per/atom 99

pair_coeff    1    1      0.065997 3.500000 2.051000 # C3H
pair_coeff    2    2      0.065997 3.500000 1.217570 # CTO
pair_coeff    3    3      0.029999 2.500000 0.0      # H
pair_coeff    4    4      0.169996 3.120000 0.977720 # OH
pair_coeff    5    5      0.0      0.0      0.0      # HO
pair_coeff    6    6      0.0      0.0      2.051000 # C3H-DP
pair_coeff    7    7      0.0      0.0      1.217570 # CTO-DP
pair_coeff    8    8      0.0      0.0      0.977720 # OH-DP

group gATOMS type 1 2 3 4 5
group gDRUDES type 6 7 8

fix fDRUDE all drude C C N C N D D D

fix fSHAKE gATOMS shake 0.0001 20 0 b 2 3 5

variable vTEMP   equal 300.0
variable vTEMP_D equal 1.0
variable vPRESS  equal 1.0

velocity all create ${vTEMP} 12345

comm_modify vel yes
compute cTEMP all temp/drude
variable elec equal ecoul+elong

fix fNPT all tgnpt/drude temp ${vTEMP} ${vTEMP} 100 ${vTEMP_D} 100 iso ${vPRESS} ${vPRESS} 1000

thermo_style custom step c_cTEMP[1] c_cTEMP[2] c_cTEMP[3] c_cTEMP[4] press pe evdwl v_elec density
thermo 100

timestep 1.0
run 10000
