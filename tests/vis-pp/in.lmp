units          real
atom_style     full
boundary       p p p

pair_style     lj/cut/coul/long     10.0
pair_modify    mix arithmetic
pair_modify    tail yes
kspace_style   pppm 1.0e-5
dielectric     1.0
special_bonds  amber
bond_style     harmonic
angle_style    harmonic
dihedral_style opls
improper_style cvff

read_data      data

variable       T equal 343
variable       P equal 1

velocity       all create $T 12345 mom yes rot yes dist gaussian

timestep       1.0

# Constraint ##################################
fix com        all momentum 100 linear 1 1 1
fix hbonds     all shake 1e-4 20 0 m 1

# Charge Transfer #############################
group          ilct type 2 3 4 6
#fix ct         ilct charge/transfer 1  4  6  -0.08  2.8  0.5 &
                                       3  6  -0.08  2.8  0.5 &
                                       2  6  -0.04  2.8  0.5 &

# VIS-PP #########################################
variable       acc equal 0.10e-5

fix            pp all vis/pp ${acc}
compute        pp all vis/pp

variable       density equal density
variable       lz equal lz
variable       invvis equal c_pp[7]/${acc}/v_density*39.4784/v_lz/v_lz*100 # 1/Pa.s

fix            npt all npt temp $T $T 200 iso $P $P 2000
fix_modify     npt temp pp

thermo_style   custom step cpu temp press pe density c_pp[7] v_invvis
thermo_modify  temp pp
thermo         100

dump           1 all custom 100 dump.lammpstrj id mol type element q xu yu zu
dump_modify    1 sort id element N H H H H F C C C C C B

run            10000
