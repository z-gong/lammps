# created by fftool

units real
boundary p p p
atom_style full
bond_style harmonic
angle_style harmonic
dihedral_style opls
special_bonds lj/coul 0.0 0.0 0.5

pair_style lj/cut/thole/long 2.6 12.0
pair_modify mix geometric tail yes
kspace_style pppm 1.0e-5

read_data data.190IL.lmp extra/special/per/atom 99

include pair.190IL.lmp

group ATOMS type 1 2 3 4 5 6 7 8 9 10 11 12
group CORES type 1 2 3 4 8 10 11 12
group DRUDES type 13 14 15 16 17 18 19 20
fix DRUDE all drude C C C C N N N C N C C C D D D D D D D D

fix SHAKE ATOMS shake 0.0001 20 0 b 5 6 7
fix ICECUBE all momentum 100 linear 1 1 1

timestep 1.0

variable T equal 400.0
variable P equal 1.0
variable elec equal ecoul+elong

velocity all create ${T} 12345

comm_modify vel yes
#compute TDRUDE all temp/drude

# Viscosity  ##################################
variable       A equal 0.02e-5 # angstrom/fs^2

fix            cos all accelerate/cos ${A}
compute        cos all viscosity/cos

variable       density equal density
variable       lz equal lz
variable       vMax equal c_cos[7] # velcoity of atoms at z=0
variable       invVis equal v_vMax/${A}/v_density*39.4784/v_lz/v_lz*100 # reciprical of viscosity 1/Pa/s

fix            npt all tgnpt/drude temp ${T} ${T} 100 1.0 25 iso ${P} ${P} 1000
fix_modify     npt temp cos

thermo_style   custom step cpu f_npt[1] f_npt[2] f_npt[3] press pe evdwl v_elec density v_vMax v_invVis
thermo         100
################################################

dump TRAJ all custom 10000 dump.lammpstrj id mol type element q xu yu zu
dump_modify TRAJ sort id element N C C C H H H C H N C N D D D D D D D D

run 10000000
